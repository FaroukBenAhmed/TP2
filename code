#Farouk Ben Ahmed and Ahmed Riad Bennabi	
import csv
import json
import math
import os
Class DonneesGeo:
  def __init__(self, ville, pays, latitude, longitude):
    self.ville = str(ville)
    self.pays = str(pays)
    self.latitude = float(latitude)
    self.longitude = float(longitude)

  def __str__(self):
    return f"{self.ville}, {self.pays}, {self.latitude}, {self.longitude}"

def lireDonneesCsv(nomFichier):
    if not os.path.exists(nomFichier):
      print(f"Erreur: le fichier{nomFichier} n'existe pas.")
      return[]
    donnees = []
    with open(nomFichier,'r', newline=",encoding='uft-8') as csvfile:
      reader = csv.DictReader(csvfile)
      for row in reader:
        if 'ville' not in row or 'pays' not in row or 'latitude' not in row or 'longitude' not in row:
            print(f"Erreur: le fichier CSV doit contenir les colonnes 'ville','pays','latitude' et 'longitude'."
            return[]
          donnees.append(DonneesGeo(row['ville'], row['pays'] , row['latitude'], row['longitude']))
    return donnees
